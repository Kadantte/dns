# [Xstl encrypted DNS](/)

[English](./202208-secondary-dns.md)

---

# 보조 DNS를 소개합니다

안녕하세요? 서비스 시작 이후 약 한 달 만에 좋은 소식으로 찾아볼 수 있어 감사하다는 말씀을 올립니다.
다름이 아니라 Xstl DNS에서는 2022년 9월 중 Oracle Cloud Platform에서 호스트 중인 인스턴스를 통해 보조 DNS를 지원할 계획이라는 소식을 전달하게 되었습니다.
그에 따라 기존의 치명적 단점이었던 안정성이 전문화된 클라우드 운영 아래에서 한 단계 더 개선되어 기존보다 더 좋은 서비스를 제공할 수 있게 된 점 뿌듯하게 생각합니다.

## 사유

Xstl DNS는 2022년 7월 28일부터 약 1달 간 서비스 중단없이 개인 서버에서 운영되며 현 시점인 2022년 8월 24일까지 약 380만 개의 요청을 처리하게 되었습니다.
먼저 생각 이상으로 많은 분들이 사용해주셔서 감사하다는 말씀드립니다.
그러나 개인 서버에서 운영되는 특성 상 호스트가 오랜 기간 재시작없이 유지되어야 한다는 점은 그간 보장해드릴 수가 없었습니다.
무엇보다도 개인 서버가 점검 상태에 들어가게 된다면 컴퓨터의 전원이 내려가 서비스 제공에 차질이 생긴다는 점이 가장 크게 와닿았습니다.

클라우드와 달리 현재는 컴퓨터의 전원 상태나 서비스의 상태를 확인할 수 있는 체계가 마련되어 있지 않다보니 이는 더더욱 심각한 문제로 느껴졌습니다.
그리고 금월 말, 개인 서버의 써멀 컴파운드 재도포 및 드라이브 교체 등의 전반적인 유지보수 작업으로 인해 서비스에 차질이 생기는 일이 없도록 대안을 마련해야 했습니다.
대안 중 가장 강력하게 떠오른 것은 주 DNS가 다운되어도 지속적으로 동일 기능을 제공할 수 있는 보조 DNS의 운영이었습니다.
또 클라이언트 측에서는 자연스럽게 주 DNS와 보조 DNS가 서로 대안이 되어 줄테니 당장 사용자 입장에서 추가로 취해야 할 동작도 없었습니다.

## 일정 및 변경 사항

현재는 보조 DNS가 정식으로 배포되지 않은 상태로 같은 LE 인증서를 사용하여 임시로 OCP에서 서버를 구동하고 있습니다.
처음 DNS 프로파일을 배포할 때 IP 주소가 아니라 DNS 주소를 통해 배포했기 때문에 가능한 일입니다.
또 인증서와 차단 목록의 자동 갱신은 그대로 이루어지고 있으니 서비스 품질에 관해서는 걱정하지 않으셔도 됩니다.
지연 시간에 대해서도 약 1시간 정도 측정하였으나 기존의 값인 최저 14ms, 최대 110ms(캐시 없이)에서 유의미한 변동이 확인되지 않았습니다.

당장 사용자 분들이 변경해주셔야 하는 사항은 없습니다.
`tls://dns.seia.io` 주소는 앞으로도 계속 사용될 예정입니다.

다만 운영의 개인 사정으로 인해 보조 DNS 서버는 9월 달 중 실제 사용자에게 영향을 최소화하면서 배포할 예정에 있습니다.
그리고 배포가 완료되면 보조 DNS의 주소를 포함한 `mobileconfig` 파일이 새로 제공될 예정입니다.
새로운 파일은 `https://get.dns.seia.io`의 메인 페이지(README.md)에 OCP 서버가 추가됨과 동시에 제공될 예정입니다.
기존 사용자 분들께서는 프로파일을 새로 설치해야 하는 번거로움을 수반하지 않으시도록 앞으로도 가능하면 DNS 연결 주소를 동적으로 변경할 예정에 있습니다.
하지만 안정성 및 연결 문제 최소화를 위해서 새 프로파일이 공개된 것을 보시게 된다면 재설치를 권장드립니다.

중대 변경 사항이 또 발생한다면 현재와 같이 웹 사이트를 통해서 안내드리도록 하겠습니다.
좋은 소식으로 찾아뵙길 기대합니다.
감사합니다.
